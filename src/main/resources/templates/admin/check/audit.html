<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="/project/plugin/element-ui/index.css">
    <!-- 先引入 Vue -->
    <script src="/project/plugin/element-ui/vue.js"></script>
    <!-- 引入组件库 -->
    <script src="/project/plugin/element-ui/index.js"></script>

    <script src="/project/plugin/element-ui/axios.js"></script>
    <title>房屋审核</title>
</head>
<body>
<div id="app">
    <el-table stripe border height="450" :data="tableData" style="width: 100%">
        <el-table-column width="140px" prop="aptNum" label="房源编号"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="bedrooms" label="卧室"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="bathrooms" label="卫生间"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="livingrooms" label="厅"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="area" label="面积"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="facing" label="朝向"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="city" label="城市"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="district" label="区"  align="center">
        </el-table-column>
        <el-table-column width="120px" prop="community" label="小区"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="whichfloor" label="楼层"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="totalfloor" label="总楼层"  align="center">
        </el-table-column>
        <el-table-column width="100px" prop="uid" label="房东ID" align="center">
        </el-table-column>
        <el-table-column width="100px" prop="state" label="审核状态" align="center">
        </el-table-column>
        <el-table-column width="100px" prop="aid" label="经纪人ID" align="center">
        </el-table-column>

        <el-table-column width="100px" label="操作" align="center">
            <template slot-scope="scope">
                <el-button size="mini" @click="query(scope.$index,scope.row)">查看详细信息</el-button>
            </template>
        </el-table-column>
    </el-table>
      <!--编辑用户的对话框-->
    <el-dialog title="提示" :visible.sync="dialogVisible" width="30%" :before-close="handleClose">
        <el-form ref="form" :rules="rules" :model="form" label-width="80px">
            <div id="bk">
                <el-form-item label="电梯:" prop="elevator"></el-form-item>
                <el-form-item label="停车位:" prop="parking"></el-form-item>
                <el-form-item label="宽带:" prop="internet"></el-form-item>
                <el-form-item label="床:" prop="bed"></el-form-item>
                <el-form-item label="沙发:" prop="sofa"></el-form-item>
                <el-form-item label="椅子:" prop="chair"></el-form-item>
                <el-form-item label="电视:" prop="TV"></el-form-item>
                <el-form-item label="空调:" prop="AC"></el-form-item>
                <el-form-item label="冰箱:" prop="refrigerator"></el-form-item>
                <el-form-item label="洗衣机:" prop="washer"></el-form-item>
                <el-form-item label="燃气:" prop="gas"></el-form-item>
                <el-form-item label="阳台:" prop="colony"></el-form-item>
            </div>
        </el-form>
    <el-button @click="dialogVisible = false">取 消</el-button>
    <el-button type="primary" @click="dialogVisible = false">确 定</el-button>
  </span>
    </el-dialog>
</div>
<style>
</style>
</body>
<script>
    new Vue({
       el:'#app',
        data:{
           tableData: [],
            //对话框
            //dialogVisible:false
        },
        mounted:function () {
            var vue = this;
            axios.post("auditlistAll")
                .then(function (res) {
                    console.info(this.data);
                    vue.tableData=res.data;
                })
                .catch(function (error) {
                    Vue.prototype.$message.error("服务器产生异常，请联系管理员");
                });
        },
        methods:{
           query(index, row){
               var vue = this;
               //alert(row.aptNum);
               axios.post('query',row.aptNum);
               this.dialogVisible=true;
               this.title='编辑用户';
               this.form=row;
               console.log(row);
           }
        }
    });
</script>
</html>